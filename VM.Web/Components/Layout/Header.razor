@using Blazored.LocalStorage
@rendermode InteractiveServer
<!--**********************************
    Nav header start
***********************************-->

<div class="nav-header">
    <a href="/" class="brand-logo p-0">
        <img class="logo-abbr" src="template/images/app-logo.png" alt="" style="max-width: 100px">
    </a>

    <div class="nav-control">
        <div class="hamburger">
            <span class="line"></span><span class="line"></span><span class="line"></span>
        </div>
    </div>
</div>

<!--**********************************
    Nav header end
***********************************-->
<!--**********************************
    Header start
***********************************-->

<div class="header">
    <div class="header-content">
        <nav class="navbar navbar-expand">
            <div class="collapse navbar-collapse justify-content-between">
                <div class="header-left"></div>
                <ul class="navbar-nav header-right">
                    <li class="nav-item dropdown header-profile">
                        <a class="nav-link" href="#" role="button" data-toggle="dropdown">
                            <i class="mdi mdi-account"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right">
                            <a href="./app-profile.html" class="dropdown-item">
                                <i class="icon-user"></i>
                                <span class="ml-2">Profile </span>
                            </a>
                            <a @onclick="LogoutHandler" class="dropdown-item">
                                <i class="icon-key"></i>
                                <span class="ml-2">Logout </span>
                            </a>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
</div>

<!--**********************************
    Header end ti-comment-alt
***********************************-->
@code {
    [Inject]
    ILocalStorageService localStorage { get; set; }

    [Inject]
    NavigationManager navigation { get; set; }


    async Task LogoutHandler()
    {
        await localStorage.RemoveItemAsync("token");
        navigation.NavigateTo("/login");

    }
}
